{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","AppManager","./app-manager",2,"global","this","animate","bind","resizeEvent","mouseMoveEvent","webGL","WebGL","window","innerWidth","innerHeight","document","body","appendChild","renderer","domElement","addEventListener","tl","TimelineMax","to","width","onComplete","current","target","style","right","TweenMax","delay","from","scale","getElementsByClassName","offsetHeight","opacity","y","height","yPercent","raf","prototype","resize","event","mouseMove","clientX","clientY","render","self","../webgl",3,"./AppManager",4,"Bird","gravity","THREE","Vector3","mesh","Object3D","position","meshes","torusKnotGeo","TorusKnotGeometry","mapTexture","ImageUtils","loadTexture","wrapS","wrapT","RepeatWrapping","furTexure","Texture","generateTexture","needsUpdate","shells","material","ShaderMaterial","uniforms","UniformsUtils","merge","UniformsLib","common","bump","normalmap","lights","map","type","value","hairMap","offset","time","speed","vertexShader","ShaderChunk","map_pars_vertex","lights_phong_pars_vertex","map_vertex","defaultnormal_vertex","default_vertex","lights_phong_vertex","join","fragmentShader","map_pars_fragment","lights_phong_pars_fragment","specularmap_fragment","lights_phong_fragment","transparent","newMesh","Mesh","push","add","canvas","createElement","ctx","getContext","fillStyle","Math","floor","random","fillRect","delta","ln",5,"./Bird",6,"scene","Scene","camera","PerspectiveCamera","currentX","z","WebGLRenderer","antialias","setSize","setClearColor","directionalLight","DirectionalLight","set","mouseScreenX","bird","clock","Clock","aspect","updateProjectionMatrix","x","getDelta","lookAt","../meshes/bird",7,"./WebGL"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar AppManager = require('./app-manager');\n\nnew AppManager();\n\n},{\"./app-manager\":3}],2:[function(require,module,exports){\n(function (global){\nvar raf = require('raf');\nvar WebGL = require('../webgl');\nvar TimelineMax = (typeof window !== \"undefined\" ? window.TimelineMax : typeof global !== \"undefined\" ? global.TimelineMax : null);\nvar TweenMax = (typeof window !== \"undefined\" ? window.TweenMax : typeof global !== \"undefined\" ? global.TweenMax : null);\n\nfunction AppManager() {\n\tthis.animate = this.animate.bind(this);\n\tthis.resizeEvent = this.resizeEvent.bind(this);\n\tthis.mouseMoveEvent = this.mouseMoveEvent.bind(this);\n\n\tthis.webGL = new WebGL(window.innerWidth, window.innerHeight);\n\tdocument.body.appendChild(this.webGL.renderer.domElement);\n\n\twindow.addEventListener('resize', this.resizeEvent);\n\twindow.addEventListener('mousemove', this.mouseMoveEvent);\n\n\tthis.animate();\n\n\tvar tl = new TimelineMax();\n\n\ttl.to('.tile__bar', 0.8, {\n\t\twidth: '100%',\n\t\tonComplete: function() {\n\t\t\tvar current = this.target[0];\n\n\t\t\tcurrent.style.right = 0;\n\t\t\tTweenMax.to(current, 0.3, {\n\t\t\t\twidth: 0,\n\t\t\t\tdelay: 0.3\n\t\t\t});\n\t\t}\n\t})\n\t.from('.intro__container__group__bck', 0.6, {\n\t\tscale: window.innerHeight / document.getElementsByClassName('intro__container__group__bck')[0].offsetHeight\n\t})\n\t.to('.title span', 0.5, {\n\t\topacity: 1,\n\t\ty: 0\n\t}, '-=0.5')\n\t.from('.border--l', 0.4, {\n\t\theight: 0\n\t}, '-=0.1')\n\t.from('.border--t', 0.4, {\n\t\twidth: 0\n\t})\n\t.from('.border--r', 0.4, {\n\t\theight: 0\n\t}, '-=0.8')\n\t.from('.border--b', 0.4, {\n\t\twidth: 0\n\t}, '-=0.4')\n\t.to('.intro__container__group', 0.4, {\n\t\tyPercent: -100,\n\t\tdelay: 1.6\n\t})\n\t.to('.border--l', 0.3, {\n\t\theight: 0\n\t}, '-=0.3')\n\t.to('.border--t', 0.3, {\n\t\twidth: 0\n\t})\n\t.to('.border--r', 0.3, {\n\t\theight: 0\n\t}, '-=0.8')\n\t.to('.border--b', 0.3, {\n\t\twidth: 0\n\t}, '-=0.4');\n}\n\nAppManager.prototype.resizeEvent = function() {\n\tthis.webGL.resize(window.innerWidth, window.innerHeight);\n};\n\nAppManager.prototype.mouseMoveEvent = function(event) {\n\tthis.webGL.mouseMove(event.clientX, event.clientY);\n};\n\nAppManager.prototype.animate = function() {\n\traf(this.animate);\n\n\tthis.webGL.render();\n};\n\nmodule.exports = AppManager;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../webgl\":7,\"raf\":\"raf\"}],3:[function(require,module,exports){\nmodule.exports = require('./AppManager');\n\n},{\"./AppManager\":2}],4:[function(require,module,exports){\n(function (global){\nvar THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\n\nfunction Bird() {\n\n\tthis.gravity = new THREE.Vector3(0, -0.75, 0);\n\tthis.mesh = new THREE.Object3D();\n\tthis.mesh.position.y = 20;\n\tthis.meshes = [];\n\n\t// radius, tube, radialSeg, tubularSeg\n\tvar torusKnotGeo = new THREE.TorusKnotGeometry(160, 80, 40, 8);\n\n\tvar mapTexture = THREE.ImageUtils.loadTexture('/media/img/bird-map.jpg');\n\tmapTexture.wrapS = mapTexture.wrapT = THREE.RepeatWrapping;\n\n\tvar furTexure = new THREE.Texture(this.generateTexture());\n\tfurTexure.needsUpdate = true;\n\tfurTexure.wrapS = furTexure.wrapT = THREE.RepeatWrapping;\n\n\tvar i;\n\tvar shells;\n\n\tfor (i = 0, shells = 18; i < shells; i++) {\n\n\t\tvar material = new THREE.ShaderMaterial({\n\t\t\tuniforms: THREE.UniformsUtils.merge([\n\n\t\t\t\tTHREE.UniformsLib.common,\n\t\t\t\tTHREE.UniformsLib.bump,\n\t\t\t\tTHREE.UniformsLib.normalmap,\n\t\t\t\tTHREE.UniformsLib.lights,\n\t\t\t\t{\n\t\t\t\t\tmap: {\n\t\t\t\t\t\ttype: 't',\n\t\t\t\t\t\tvalue: null\n\t\t\t\t\t},\n\t\t\t\t\thairMap: {\n\t\t\t\t\t\ttype: 't',\n\t\t\t\t\t\tvalue: null\n\t\t\t\t\t},\n\t\t\t\t\toffset:\t{\n\t\t\t\t\t\ttype: 'f',\n\t\t\t\t\t\tvalue: i / shells\n\t\t\t\t\t},\n\t\t\t\t\ttime: {\n\t\t\t\t\t\ttype: 'f',\n\t\t\t\t\t\tvalue: 0.0\n\t\t\t\t\t},\n\t\t\t\t\tspeed: {\n\t\t\t\t\t\ttype: 'f',\n\t\t\t\t\t\tvalue: 0.025\n\t\t\t\t\t},\n\t\t\t\t\tgravity: {\n\t\t\t\t\t\ttype: 'v3',\n\t\t\t\t\t\tvalue: this.gravity\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]),\n\n\t\t\t/* jshint camelcase:false */\n\t\t\t/* jscs:disable requireCamelCaseOrUpperCaseIdentifiers */\n\n\t\t\tvertexShader: [\n\n\t\t\t\t'uniform float offset;',\n\t\t\t\t'uniform vec3 gravity;',\n\n\t\t\t\t'varying vec3 vNormal;',\n\t\t\t\t'varying vec3 vViewPosition;',\n\n\t\t\t\tTHREE.ShaderChunk.map_pars_vertex,\n\t\t\t\tTHREE.ShaderChunk.lights_phong_pars_vertex,\n\n\t\t\t\t'void main() {',\n\n\t\t\t\t\tTHREE.ShaderChunk.map_vertex,\n\t\t\t\t\tTHREE.ShaderChunk.defaultnormal_vertex,\n\n\t\t\t\t\t/*********************************************/\n\n\t\t\t\t\t/* Gravity ***********************************/\n\n\t\t\t\t\t'float displacementFactor = pow(offset, 1.0);',\n\t\t\t\t\t'vec3 aNormal = transformedNormal;',\n\t\t\t\t\t'aNormal.xyz += gravity * displacementFactor;',\n\t\t\t\t\t'vec3 animated = position + (normalize(aNormal) * offset * 60.0);',\n\n\t\t\t\t\t'vNormal = normalize(transformedNormal * aNormal);',\n\n\t\t\t\t\tTHREE.ShaderChunk.default_vertex,\n\n\t\t\t\t\t'gl_Position = projectionMatrix * modelViewMatrix * vec4(animated, 1.0);',\n\n\t\t\t\t\t'vViewPosition = -mvPosition.xyz;',\n\n\t\t\t\t\tTHREE.ShaderChunk.lights_phong_vertex,\n\n\t\t\t\t'}'\n\t\t\t].join('\\n'),\n\t\t\tfragmentShader: [\n\n\t\t\t\t'uniform vec3 diffuse;',\n\t\t\t\t'uniform vec3 emissive;',\n\t\t\t\t'uniform vec3 specular;',\n\t\t\t\t'uniform float shininess;',\n\t\t\t\t'uniform float opacity;',\n\n\t\t\t\t'uniform sampler2D hairMap;',\n\t\t\t\t'uniform float offset;',\n\t\t\t\t'uniform float time;',\n\t\t\t\t'uniform float speed;',\n\n\t\t\t\tTHREE.ShaderChunk.common,\n\t\t\t\tTHREE.ShaderChunk.map_pars_fragment,\n\t\t\t\tTHREE.ShaderChunk.lights_phong_pars_fragment,\n\n\t\t\t\t'void main() {',\n\n\t\t\t\t\t'vec3 outgoingLight = vec3(0.0);',\n\t\t\t\t\t'vec4 diffuseColor = vec4(diffuse, opacity);',\n\n\t\t\t\t\t'vec2 uvTimeShift = vUv * vec2(5.0, 1.0) + vec2(-1.0, -0.3) * time * speed;',\n\t\t\t\t\t'vec4 texelColor = texture2D(map, uvTimeShift);',\n\t\t\t\t\t'diffuseColor *= texelColor;',\n\n\t\t\t\t\t'vec2 uvTimeShiftHair = vUv * vec2(20.0, 2.0) + vec2(-1.0, -0.3) * time * speed;',\n\t\t\t\t\t'vec4 hairColor = texture2D(hairMap, uvTimeShiftHair);',\n\n\t\t\t\t\t// Discard no hairs + above the max length\n\n\t\t\t\t\t'if (hairColor.r == 0.0 || hairColor.g < offset) {',\n\t\t\t\t\t\t'discard;',\n\t\t\t\t\t'}',\n\n\t\t\t\t\tTHREE.ShaderChunk.specularmap_fragment,\n\t\t\t\t\tTHREE.ShaderChunk.lights_phong_fragment,\n\n\t\t\t\t\t'gl_FragColor = vec4(outgoingLight, diffuseColor.a);',\n\n\t\t\t\t'}'\n\t\t\t].join('\\n'),\n\n\t\t\t/* jscs:enable requireCamelCaseOrUpperCaseIdentifiers */\n\t\t\t/* jshint camelcase:true */\n\n\t\t\tlights: true,\n\t\t\ttransparent: true\n\t\t});\n\n\t\tmaterial.map = true;\n\t\tmaterial.uniforms.map.value = mapTexture;\n\t\tmaterial.uniforms.hairMap.value = furTexure;\n\n\t\tvar newMesh = new THREE.Mesh(torusKnotGeo, material);\n\t\tthis.meshes.push(newMesh);\n\t\tthis.mesh.add(newMesh);\n\t}\n}\n\nBird.prototype.generateTexture = function() {\n\tvar canvas = document.createElement('canvas');\n\tcanvas.width = canvas.height = 256;\n\n\tvar ctx = canvas.getContext('2d');\n\n\tfor (var i = 0; i < 10000; i++) {\n\t\tctx.fillStyle = 'rgb(255, ' + Math.floor(Math.random() * 255) + ', 0)';\n\n\t\tctx.fillRect((Math.random() * canvas.width), (Math.random() * canvas.height), 4, 4);\n\t}\n\n\treturn canvas;\n};\n\nBird.prototype.render = function(delta) {\n\n\tvar i;\n\tvar ln;\n\n\tfor (i = 0, ln = this.meshes.length; i < ln; i++) {\n\t\tthis.meshes[i].material.uniforms.time.value += delta;\n\t}\n};\n\nmodule.exports = Bird;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],5:[function(require,module,exports){\nmodule.exports = require('./Bird');\n\n},{\"./Bird\":4}],6:[function(require,module,exports){\n(function (global){\nvar THREE = (typeof window !== \"undefined\" ? window.THREE : typeof global !== \"undefined\" ? global.THREE : null);\n//var Snake = require('../meshes/snake');\nvar Bird = require('../meshes/bird');\n\nfunction WebGL(width, height) {\n\tthis.scene = new THREE.Scene();\n\tthis.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n\tthis.currentX = 0;\n\n\tthis.camera.position.z = 500;\n\tthis.scene.add(this.camera);\n\n\tthis.renderer = new THREE.WebGLRenderer({\n\t\tantialias: true\n\t});\n\tthis.renderer.setSize(width, height);\n\tthis.renderer.setClearColor(0xebebeb);\n\n\t/*********************************************/\n\n\t/* Lights ************************************/\n\n\tvar directionalLight = new THREE.DirectionalLight(0xffffff, 1);\n\t//directionalLight.position.set(-0.1, 1, 0.1);\n\tdirectionalLight.position.set(-0.1, 1, 1);\n\tthis.scene.add(directionalLight);\n\n\tthis.mouseScreenX = 0;\n\n\t/*********************************************/\n\n\t/* Meshes ************************************/\n\n\t//this.snake = new Snake();\n\t//this.scene.add(this.snake.mesh);\n\n\tthis.bird = new Bird();\n\tthis.scene.add(this.bird.mesh);\n\n\t/*********************************************/\n\n\t/* Clock *************************************/\n\n\tthis.clock = new THREE.Clock();\n}\n\nWebGL.prototype.resize = function(width, height) {\n\tthis.camera.aspect = width / height;\n\tthis.camera.updateProjectionMatrix();\n\n\tthis.renderer.setSize(width, height);\n};\n\nWebGL.prototype.mouseMove = function(x) {\n\tthis.mouseScreenX = ((x - window.innerWidth / 2) * 10) * 0.01;\n};\n\nWebGL.prototype.render = function() {\n\tthis.renderer.render(this.scene, this.camera);\n\tvar delta = this.clock.getDelta();\n\n\tthis.camera.position.x += (this.mouseScreenX - this.camera.position.x) * 0.1;\n\tthis.camera.lookAt(new THREE.Vector3(0, 0, 0));\n\n\t//this.snake.render(delta);\n\tthis.bird.render(delta);\n};\n\nmodule.exports = WebGL;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../meshes/bird\":5}],7:[function(require,module,exports){\nmodule.exports = require('./WebGL');\n\n},{\"./WebGL\":6}]},{},[1]);\n"],"sourceRoot":"/source/"}